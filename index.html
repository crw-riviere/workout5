<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,300,600,700,800' rel='stylesheet' type='text/css' />
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link href="css/style.css" rel="stylesheet" />
    <title>WO5A</title>
</head>
<body>
    <div class="container">

        <nav class="navbar" role="navigation">
            <ul class="nav nav-pills" data-tabs="tabs">
                <li class="dropdown" data-bind="with: listProgram">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">PROGRAM <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" data-bind="template: { name: 'nav-program-template', foreach: childs }">
                        <li class="divider"></li>
                        <li><a href="#listPrograms" data-toggle="tab">Add Program</a></li>
                    </ul>
                </li>

                <script type="text/html" id="nav-program-template">
                    <li><a data-bind="text: name, click: $root.gotoEntity"></a></li>
                </script>

                <li class="dropdown" data-bind="with: selectedProgram">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">DAY <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" data-bind="template: { name: 'nav-day-template', foreach: childs }">
                        <li class="divider"></li>
                        <li><a href="#listDays" data-toggle="tab">Add Day</a></li>
                    </ul>
                </li>

                <script type="text/html" id="nav-day-template">
                    <li><a href="#exercises" data-toggle="tab" data-bind="text: name, click: $root.gotoEntity"></a></li>
                </script>

                <li class="dropdown" data-bind="with: selectedDay">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">EXERCISE <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" data-bind="template: { name: 'nav-exercise-template', foreach: childs }">
                        <li class="divider"></li>
                        <li><a href="#listExercises" data-toggle="tab">Add Exercise</a></li>
                    </ul>
                </li>

                <script type="text/html" id="nav-exercise-template">
                    <li class=""><a class="" href="#listSessions" data-toggle="tab" data-bind="text: name, click: $root.gotoEntity"></a></li>
                </script>

                <li class="dropdown"><a class="" href="#settings" data-toggle="tab">#    </a></li>
            </ul>
        </nav>

        <div class="tab-content">
            <!-- Program List -->
            <div id="listPrograms" class="tab-pane" data-bind="with: listProgram">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <p><b>Programs |</b></p>
                            <p><a class="btn btn-small" data-bind="click: $root.addProgram"><span class="glyphicon glyphicon-plus"></span>&nbsp;Program</a></p>
                        </div>

                        <p><small><i>Use this page to create and edit existing programs.</i></small></p>
                    </div>

                    <table class="table">
                        <tbody data-bind="foreach: childs">
                            <tr>
                                <td class="col-xs-10">
                                    <h4><a href="#listDays" data-toggle="tab" data-bind="text: name, hidden: editable, click: $root.gotoEntity"></a></h4>
                                    <input class="form-control input-lg" type="text" placeholder="Program Name" data-bind="value: name, visible: editable" />
                                </td>
                                <td class="col-xs-2">
                                    <a class="btn btn-link btn-large pull-left" data-bind="visible: editable, click: $root.setEditable"><span class="glyphicon glyphicon-ok"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: $root.setEditable"><span class="glyphicon glyphicon-pencil"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: $root.deleteProgram"><span class="glyphicon glyphicon-remove"></span></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- End Program List -->

            <!-- Day List -->
            <div id="listDays" class="tab-pane" data-bind="with: selectedProgram">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <p><b>Days |</b> </p>
                            <p><a class="btn btn-small" data-bind="click: function () { $root.addEntity($data, 'Day') }"><span class="glyphicon glyphicon-plus"></span>&nbsp;Day</a></p>
                        </div>

                        <p><small><i>Use this page to create and edit existing days.</i></small></p>
                    </div>

                    <table class="table">
                        <tbody data-bind="foreach: childs">
                            <tr>
                                <td class="col-xs-10">
                                    <h4><a href="#listExercises" data-toggle="tab" data-bind="text: name, hidden: editable, click: $root.gotoEntity"></a></h4>
                                    <input class="form-control input-lg" type="text" placeholder="Day Name" data-bind="value: name, visible: editable" />
                                </td>
                                <td class="col-xs-2">
                                    <a class="btn btn-link btn-large pull-left" data-bind="visible: editable, click: $root.setEditable"><span class="glyphicon glyphicon-ok"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: $root.setEditable"><span class="glyphicon glyphicon-pencil"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: function () { $parent.childs.remove($data) }"><span class="glyphicon glyphicon-remove"></span></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- End Day List -->

            <!-- Exercise List -->
            <div id="listExercises" class="tab-pane" data-bind="with: selectedDay">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <p><b>Exercises |</b> </p>
                            <p><a class="btn btn-small" data-bind="click: function () { $root.addEntity($data, 'Exercise') }"><span class="glyphicon glyphicon-plus"></span>&nbsp;Exercise</a></p>
                        </div>

                        <p><small><i>Use this page to create and edit existing exercises.</i></small></p>
                    </div>

                    <table class="table">
                        <tbody data-bind="foreach: childs">
                            <tr>
                                <td class="col-xs-10">
                                    <h4><a href="#listSessions" data-toggle="tab" data-bind="text: name, hidden: editable, click: $root.gotoEntity"></a></h4>
                                    <input class="form-control input-lg" type="text" placeholder="Day Name" data-bind="value: name, visible: editable" />
                                </td>
                                <td class="col-xs-2">
                                    <a class="btn btn-link btn-large pull-left" data-bind="visible: editable, click: $root.setEditable"><span class="glyphicon glyphicon-ok"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: $root.setEditable"><span class="glyphicon glyphicon-pencil"></span></a>
                                    <a class="btn btn-link btn-large pull-left" data-bind="hidden: editable, click: function () { $parent.childs.remove($data) }"><span class="glyphicon glyphicon-remove"></span></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- End Exercise List -->

            <!-- Session List -->
            <div id="listSessions" class="tab-pane" data-bind="with: selectedExercise">

                <div id="" class="panel panel-default tab-pane" data-bind="with: $root.selectedExercise, attr: { id: name }">

                    <div class="panel-heading">
                        <div class="panel-title">
                            <p>
                                <b class="" data-bind="text: name"></b>
                                <b>| </b>
                                <small><i>Sessions</i></small>
                            </p>
                            <p>
                                <a class="btn btn-link btn-default" data-bind="click: $root.addSession">
                                    <span class="glyphicon glyphicon-plus"></span>&nbsp;Session
                                </a>
                            </p>
                        </div>

                        <small><i>This is a list of all your sessions for <b data-bind="text: name"></b>. Click on a session date to view it's sets.</i></small>
                        <br />
                    </div>

                    <br />
                    <!-- Session List -->

                    <ul class="list-group" data-bind="foreach: childs">

                        <li class="list-group-item">
                            <div class="list-group-item-heading">

                                <h3><a class="" data-toggle="collapse" data-bind="attr: { href: '#'.concat(id()) }">
                                    <i data-bind="text: name, hidden: editable, click: $root.gotoEntity"></i>
                                </a></h3>
                                <input class="form-control input-lg" data-bind="value: name, visible: editable" />

                                <div class="row">
                                    <div class="col-xs-4">
                                        <small><a href="#" data-bind="click: $root.setEditable"><span class="glyphicon glyphicon-edit"></span>&nbsp;Session</a></small>
                                        <b>| </b>
                                    </div>
                                    <div class="col-xs-4">
                                        <small><a data-bind="click: $root.deleteSession"><span class="glyphicon glyphicon-minus"></span>&nbsp;Session</a></small>
                                        <b>| </b>
                                    </div>
                                    <div class="col-xs-4">
                                        <small><a data-bind="hidden: editable, click: $root.addSet, attr: { href: '#'.concat(id()) }"><span class="glyphicon glyphicon-plus"></span>&nbsp;Set</a></small>
                                    </div>
                                </div>
                                <!-- <div class="btn-group">
                                        <button type="button" class="btn btn-link btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                                            <span class="glyphicon glyphicon-pencil"></span>
                                        </button>
                                        <ul class="dropdown-menu" role="menu">
                                            <li><a href="#" data-bind="click: $root.setEditable">Edit</a></li>
                                            <li><a href="#" data-bind="hidden: editable, click: $root.addSet">Add Set</a></li>
                                            <li><a href="#" data-bind="click: $root.deleteEntity">Delete</a></li>
                                        </ul>
                                    </div>-->
                            </div>

                            <div class="collapse list-group-item-text" data-bind="attr: { id: id }">

                                <table class="table" id="session">
                                    <thead>
                                        <tr>
                                            <th>
                                                <small><b>SET</b></small>
                                            </th>
                                            <th>
                                                <small><b>REPS</b></small>
                                            </th>
                                            <th>
                                                <small><b>WEIGHT</b></small>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: $data.childs()">
                                        <tr data-bind="hidden: editable">
                                            <td class="col-xs-3">
                                                <h4 data-bind="text: ($index() + 1).toString().concat('.'), click: $root.gotoEntity"></h4>
                                            </td>
                                            <td class="col-xs-3">
                                                <h4 data-bind="text: reps, hidden: editable"></h4>
                                            </td>
                                            <td class="col-xs-4">
                                                <h4 data-bind="text: weight, hidden: editable"></h4>
                                            </td>
                                            <td class="col-xs-2">
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-link btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                                                        <span class="glyphicon glyphicon-pencil"></span>
                                                    </button>
                                                    <ul class="dropdown-menu" role="menu">
                                                        <li><a href="#" data-bind="click: $root.setEditable">Edit</a></li>
                                                        <li><a href="#" data-bind="click: $root.deleteEntity">Delete</a></li>
                                                    </ul>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr data-bind="visible: editable">
                                            <td class="col-xs-2">
                                                <h4 data-bind="text: $index() + 1 + '.', click: $root.gotoEntity"></h4>
                                            </td>

                                            <td class="col-xs-3">
                                                <input class="form-control input-lg" type="number"
                                                    data-bind="visible: editable, value: reps" />
                                            </td>
                                            <td class="col-xs-5">
                                                <div class="input-group input-group-lg" data-bind="visible: editable">
                                                    <input class="form-control input-lg" type="number"
                                                        data-bind="value: weight" />
                                                    <span class="input-group-addon">.Kg</span>
                                                </div>
                                            </td>
                                            <td class="col-xs-2">
                                                <a class="btn btn-link btn-default btn-lg" data-bind="visible: editable, click: $root.setEditable">
                                                    <span class="glyphicon glyphicon-ok"></span>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </ul>

                    <!-- End Selected Session -->
                </div>
            </div>

            <!-- Options -->
            <div id="settings" class="tab-pane">

                <a class="btn btn-small" data-bind="click: $root.savePrograms"><span class="glyphicon glyphicon-save"></span>&nbsp;Save</a>

                <a class="btn btn-small" data-bind="click: $root.deleteDB"><span class="glyphicon glyphicon-delete"></span>&nbsp;Delete DB</a>
            </div>

            <!-- End Options -->
        </div>
        <!-- End Exercise -->
    </div>

    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/knockout-2.3.0.js"></script>
    <script src="js/knockout-mapping.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/wo5a.js"></script>
</body>
</html>