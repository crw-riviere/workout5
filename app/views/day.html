<div id="listPrograms" class="tab-pane">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="panel-title">
                <p><b>{{program.entity.name}}|</b><small><i>Days</i></small></p>

                <a data-toggle="modal" data-target="#mdlCreateDay" class="btn btn-primary">&nbsp;<span class="glyphicon glyphicon-plus">&nbsp;</span>&nbsp;Day&nbsp;</a>
            </div>

            <p><small><i>Use this page to create and edit existing days.</i></small></p>
        </div>

        <ul class="list-group">
            <li class="list-group-item" data-ng-show="days.length <= 0">
                <p class="text-center">There are no days assigned to {{program.entity.name}}.</p>
                <p class="text-center"><a data-toggle="modal" data-target="#mdlCreateDay">Add a day.</a></p>
            </li>
            <li data-ng-repeat="day in days" class="list-group-item">

                <div data-ng-switch on="day.operation">
                    <div class="row" data-ng-switch-when="read">
                        <h4><a class="col-xs-10" data-ng-click="loadExercises(day)" data-target="#exercises{{day.entity.id}}" data-toggle="collapse">{{day.entity.name}}</a></h4>
                        <a class="col-xs-2" data-target="#opt{{$index}}" data-toggle="collapse"><span class="glyphicon glyphicon-edit"></span></a>
                    </div>
                    <div class="row" data-ng-switch-when="update">
                        <div class="col-xs-10">
                            <input class="form-control" type="text" placeholder="Day Name" data-ng-model="day.entity.name" data-ng-change="validDayFeedback(day)" />
                        </div>
                        <div class="col-xs-2">
                            <a class="btn btn-large" data-ng-click="saveDay(day)" data-ng-disabled="!validDay(day)"><span class="glyphicon glyphicon-ok"></span></a>
                        </div>

                    </div>
                </div>

                <!--Exercises Collapse-->
                <div id="exercises{{day.entity.id}}" class="row collapse">
                    <div class="clearfix">
                        <br />
                    </div>
                    <div data-ng-show="day.entity.exercises.length <= 0">
                        <p class="text-center">You have no exercises assigned to {{day.entity.name}}.</p>
                        <p class="text-center"><a data-ng-click="loadDay(day)" data-toggle="modal" data-target="#mdlCreateExercise">Add Exercise.</a></p>
                    </div>

                    <table class="table" data-ng-show="day.entity.exercises.length > 0">
                        <thead>
                            <tr>
                                <th>Exercise</th>
                                <th colspan="2" class="text-center">Targets</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="exerciseInfo in day.entity.exercises">
                                <td>{{exerciseInfo.exercise.name}}</td>
                                <td>{{exerciseInfo.target.reps}} rep(s)</td>
                                <td>{{exerciseInfo.target.perform}}{{exerciseInfo.target.measurement}}</td>
                                <td data-ng-click="loadExercise(exerciseInfo,day)"><a class="" data-toggle="modal" data-target="#mdlUpdateExercise"><span class="glyphicon glyphicon-edit"></span></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!--End Exercise Collapse-->
                <!--Day Options-->
                <div id="opt{{$index}}" class="row collapse">
                    <div class="clearfix">
                        <br />
                    </div>
                    <p>{{day.error}}</p>
                    <a class="col-xs-4 btn btn-large" data-ng-click="loadDay(day)" data-toggle="modal" data-target="#mdlCreateExercise"><span class="glyphicon glyphicon-plus"></span></a>
                    <a class="col-xs-4 btn btn-large" data-ng-click="editDay(day)"><span class="glyphicon glyphicon-pencil"></span></a>
                    <a class="col-xs-4 btn btn-large" data-ng-click="deleteDay(day)"><span class="glyphicon glyphicon-trash"></span></a>
                </div>
                <!--End Day Options-->
            </li>
        </ul>
    </div>
</div>

<!--Modals-->

<modal modalid="mdlCreateDay">
    <div class="modal-body">
        <p>Please enter a day name.</p>
        <input class="form-control" data-ng-model="newDay.entity.name" data-ng-change="validDayFeedback(newDay)">
        <p>{{newDay.error}}</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-disabled="!validDay(newDay)" data-ng-click="addDay(newDay)">Create</button>
    </div>
</modal>

<modal modalid="mdlCreateExercise">

    <div class="modal-body">
        <label>Please select an exercise </label>
        <select class="form-control" ng-model="selectedExercise.exercise" ng-options="exercise.name for exercise in allExercises">
            <option value="">create new exercise</option>
        </select>

        <div class="clearfix">
            <br />
        </div>

        <div data-ng-hide="selectedExercise.exercise">
            <label>Exercise name </label>
            <input class="form-control" data-ng-model="newExercise.entity.name" data-ng-change="validExerciseFeedback(newExercise)">
            <p>{{newExercise.error}}</p>
        </div>

        <div class="clearfix">
            <br />
        </div>


        <label>Measurement </label>

        <select class="form-control" ng-model="selectedExercise.target.measurement" ng-options="measurement for measurement in measurements"></select>


        <div class="clearfix">
            <br />
        </div>

        <label>Targets <i>(Optional)</i></label>

        <div class="row">
            <div class="col-xs-6">
                <p>Reps</p>
            </div>
            <div class="col-xs-6">
                <input class="form-control input-sm" type="number" data-ng-model="selectedExercise.target.reps">
            </div>

            <div class="clearfix">
                <br />
            </div>

            <div class="col-xs-6">
                <p>Weight</p>
            </div>
            <div class="col-xs-6">
                <input class="form-control input-sm" type="number" data-ng-model="selectedExercise.target.perform">
            </div>

        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-show="selectedExercise.exercise" data-ng-click="addExercise(selectedExercise)">Add</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-hide="selectedExercise.exercise" data-ng-disabled="!validExercise(newExercise)" data-ng-click="createExercise(newExercise)">Create</button>

    </div>

</modal>

<modal modalid="mdlUpdateExercise">

    <div class="modal-body">
        <label>Exercise </label>
        <select class="form-control" ng-model="selectedExercise.exercise" ng-options="exercise.name for exercise in allExercises"></select>

        <div class="clearfix">
            <br />
        </div>


        <label>Measurement </label>

        <select class="form-control" ng-model="selectedExercise.target.measurement" ng-options="measurement for measurement in measurements"></select>

        <div class="clearfix">
            <br />
        </div>
        
        <p>Targets <i>(Optional)</i></p>
       

        <div class="row">
            <div class="col-xs-6">
                <label>Reps</label>
            </div>
            <div class="col-xs-6">
                <input class="form-control input-sm" type="number" data-ng-model="selectedExercise.target.reps">
            </div>

            <div class="clearfix">
                <br />
            </div>

            <div class="col-xs-6">
                <label>Weight</label>
            </div>
            <div class="col-xs-6">
                <input class="form-control input-sm" type="number" data-ng-model="selectedExercise.target.perform">
            </div>

        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-click="deleteExercise(selectedExercise)">Delete</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-click="updateExercise(selectedExercise)">Update</button>
    </div>

</modal>
<!--End Modals-->
